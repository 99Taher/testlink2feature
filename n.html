<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chatbot SQL</title>
</head>
<body>
  <h1>Assistant SQL Local (Ollama)</h1>

  <form method="POST" action="/">
    <label for="question">Pose ta question SQL :</label><br>
    <input type="text" id="question" name="question" required>
    <button type="submit">Envoyer</button>
  </form>

  {% if query %}
    <h2>Requête SQL générée :</h2>
    <pre>{{ query }}</pre>
  {% endif %}

  {% if result %}
    <h2>Résultat :</h2>
    <table border="1">
      <tr>
        {% for col in columns %}
          <th>{{ col }}</th>
        {% endfor %}
      </tr>
      {% for row in result %}
        <tr>
          {% for cell in row %}
            <td>{{ cell }}</td>
          {% endfor %}
        </tr>
      {% endfor %}
    </table>
  {% endif %}
</body>
</html>
